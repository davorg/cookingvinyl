#!/usr/bin/perl

use strict;
use warnings;
use 5.010;

use Web::Scraper;
use Data::Dumper;

my $scraper = scraper {
  process 'table.tracks tr', 'tracks[]' => scraper {
    process '//td[1]', track => 'TEXT',
    process '//td[2]', artist => 'TEXT',
    process '//td[3]', title => 'TEXT',
  },
};

my $html = do { local $/; <> };

my $res = $scraper->scrape($html);

foreach (@{$res->{tracks}}) {
  say "$_->{track}\t$_->{title}\t$_->{artist}";
}
